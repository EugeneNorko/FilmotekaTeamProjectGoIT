{"mappings":"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","sources":["src/scripts/refs.js","src/scripts/onOpenLibrary.js","node_modules/basiclightbox/dist/basicLightbox.min.js","src/scripts/modal/modal.js","src/scripts/fetch.js","src/scripts/renderFilmCard.js"],"sourcesContent":["export const refs = {\n    heroSection:document.querySelector('.js-hero__section'),\n    heroContainer: document.querySelector('.js-hero__container'),\n    headerNav: document.querySelector('.js-header-nav'),\n    headerNavLinks: document.querySelectorAll('.js-header-nav__link'),\n    searchInput: document.querySelector('.js-search__wrapp'),\n    libraryButtons: document.querySelector('.js-library__button-wrapp'),\n    movieGallery: document.querySelector('.js-gallery')\n}","import { refs } from './refs.js'\n\nrefs.headerNav.addEventListener('click', onChangePage);\n\nfunction onChangePage(e) {\n    e.preventDefault();\n    const currentElementClick = e.target;\n    if (currentElementClick.nodeName !== \"A\") {\n        return;\n    }\n\n    if (currentElementClick.hasAttribute('data-libraryPage')) {\n        onOpenLibraryPage(currentElementClick)\n    }\n    if (currentElementClick.hasAttribute('data-homePage')) {\n         onOpenHomePage(currentElementClick);\n    }\n}\n\nfunction onOpenHomePage(currentElementClick) {\n    if (!currentElementClick.classList.contains('header-nav__link--active')) {\n        console.log('home');\n        deleteActiveLink()\n        setActiveLink(currentElementClick)\n        refs.heroSection.classList.remove('js-library');\n        refs.libraryButtons.classList.add('visually-hidden');\n        refs.searchInput.classList.remove('visually-hidden');\n    }\n}\n\nfunction onOpenLibraryPage(currentElementClick) {\n    if (!currentElementClick.classList.contains('header-nav__link--active')) {\n        console.log('lib');\n        onHideSearchInput();\n        refs.heroSection.classList.add('js-library');\n        refs.libraryButtons.classList.remove('visually-hidden');\n        deleteActiveLink()\n        setActiveLink(currentElementClick);\n    }\n}\n\nfunction setActiveLink(currentElement) {\n    currentElement.classList.add('header-nav__link--active');\n}\n\nfunction deleteActiveLink() {\n    return refs.headerNavLinks.forEach(link => {\n        if (link.classList.contains('header-nav__link--active')) {\n            link.classList.remove('header-nav__link--active');\n        }\n    })\n}\n\nfunction onHideSearchInput() {\n    refs.searchInput.classList.add('visually-hidden');\n}\n\n","!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{(\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this).basicLightbox=e()}}((function(){return function e(n,t,o){function r(c,u){if(!t[c]){if(!n[c]){var s=\"function\"==typeof require&&require;if(!u&&s)return s(c,!0);if(i)return i(c,!0);var a=new Error(\"Cannot find module '\"+c+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var l=t[c]={exports:{}};n[c][0].call(l.exports,(function(e){return r(n[c][1][e]||e)}),l,l.exports,e,n,t,o)}return t[c].exports}for(var i=\"function\"==typeof require&&require,c=0;c<o.length;c++)r(o[c]);return r}({1:[function(e,n,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.create=t.visible=void 0;var o=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=document.createElement(\"div\");return t.innerHTML=e.trim(),!0===n?t.children:t.firstChild},r=function(e,n){var t=e.children;return 1===t.length&&t[0].tagName===n},i=function(e){return null!=(e=e||document.querySelector(\".basicLightbox\"))&&!0===e.ownerDocument.body.contains(e)};t.visible=i;t.create=function(e,n){var t=function(e,n){var t=o('\\n\\t\\t<div class=\"basicLightbox '.concat(n.className,'\">\\n\\t\\t\\t<div class=\"basicLightbox__placeholder\" role=\"dialog\"></div>\\n\\t\\t</div>\\n\\t')),i=t.querySelector(\".basicLightbox__placeholder\");e.forEach((function(e){return i.appendChild(e)}));var c=r(i,\"IMG\"),u=r(i,\"VIDEO\"),s=r(i,\"IFRAME\");return!0===c&&t.classList.add(\"basicLightbox--img\"),!0===u&&t.classList.add(\"basicLightbox--video\"),!0===s&&t.classList.add(\"basicLightbox--iframe\"),t}(e=function(e){var n=\"string\"==typeof e,t=e instanceof HTMLElement==1;if(!1===n&&!1===t)throw new Error(\"Content must be a DOM element/node or string\");return!0===n?Array.from(o(e,!0)):\"TEMPLATE\"===e.tagName?[e.content.cloneNode(!0)]:Array.from(e.children)}(e),n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null==(e=Object.assign({},e)).closable&&(e.closable=!0),null==e.className&&(e.className=\"\"),null==e.onShow&&(e.onShow=function(){}),null==e.onClose&&(e.onClose=function(){}),\"boolean\"!=typeof e.closable)throw new Error(\"Property `closable` must be a boolean\");if(\"string\"!=typeof e.className)throw new Error(\"Property `className` must be a string\");if(\"function\"!=typeof e.onShow)throw new Error(\"Property `onShow` must be a function\");if(\"function\"!=typeof e.onClose)throw new Error(\"Property `onClose` must be a function\");return e}(n)),c=function(e){return!1!==n.onClose(u)&&function(e,n){return e.classList.remove(\"basicLightbox--visible\"),setTimeout((function(){return!1===i(e)||e.parentElement.removeChild(e),n()}),410),!0}(t,(function(){if(\"function\"==typeof e)return e(u)}))};!0===n.closable&&t.addEventListener(\"click\",(function(e){e.target===t&&c()}));var u={element:function(){return t},visible:function(){return i(t)},show:function(e){return!1!==n.onShow(u)&&function(e,n){return document.body.appendChild(e),setTimeout((function(){requestAnimationFrame((function(){return e.classList.add(\"basicLightbox--visible\"),n()}))}),10),!0}(t,(function(){if(\"function\"==typeof e)return e(u)}))},close:c};return u}},{}]},{},[1])(1)}));","import { findCardId } from '../fetch.js';\nimport { refs } from '../refs.js';\n\nimport * as basicLightbox from 'basiclightbox';\nimport 'basiclightbox/dist/basicLightbox.min.css';\n\nrefs.movieGallery.addEventListener('click', openModal);\n\nfunction openModal(e) {\n  e.preventDefault();\n    console.log(e.target.dataset.id)\n  findCardId(e.target.dataset.id)\n      .then(movie => {        \n      if (e.target.nodeName !== 'IMG') return;\n      const markup = `<img class=\"gallery__image\" src=\"https://image.tmdb.org/t/p/original/${movie.backdrop_path}\" alt=\"${movie.title}\" loading=\"lazy\" width=\"500\" />  <div class=\"modal-close-btn\">Close</div>`;\n      const modal = basicLightbox.create(markup);\n\n      modal.show();\n\n      const closeBtn = document.querySelector('.modal-close-btn');\n      closeBtn.addEventListener('click', closeModal);\n\n      window.addEventListener('keydown', closeModalHandler);\n\n      function closeModalHandler(e) {\n        if (e.code === 'Escape') {\n          modal.close();\n          window.removeEventListener('keydown', closeModalHandler);\n        }\n        }\n        function closeModal(e) {\n        modal.close();\n        window.removeEventListener('keydown', closeModalHandler);\n      }      \n      \n    })\n    .then(data => {})\n    .catch(error => {\n      console.log('oops!');\n    });\n}","const key = \"1e3bd345eb5d29ac0f4521d096bb0e9d\";\n\n// приклад імпорту: import { findWordKey } from './scripts/fetch';\n\n//------- Пошук за ключовим словом----\n\nexport function findWordKey (word,page=1) {\n    \n  return fetch(`https://api.themoviedb.org/3/search/movie?api_key=${key}&language=en-US&page=1&include_adult=false&query=${word}&page=${page}`).then(respons=>respons.json())\n\n}\n\n//------- Пошук по ід карти----\nexport function findCardId (idCard){\n   return fetch(`https://api.themoviedb.org/3/movie/${idCard}?api_key=${key}&language=en-US`).then(respons=>respons.json())\n}\n\n//------ Популярні фільми---\n\nexport function popularFilm (page=1){\n   return fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=${key}&page=${page}`).then(respons=>respons.json())\n}\n\n\n// ------- Запити  для рендеренга розмітки \n\n//  .title - назва фільма\n//  .original_title - оригінальна назва фільма \n//  .popularity - популярність\n//  .release_date - дата вихода\n//  .poster_path  -  картинка на заставку (щоб дістать картинку фільма треба спочатку вести сайт \"https://image.tmdb.org/t/p/original/cсилка на картинку\")\n//  .backdrop_path - фонова картинка\n//  .genre_ids - жанри ( тільки по ід запросу жанри можна витянуть прописом, через інші вони ідуть в цифровому значенні, обєкт значень в файлі genre.js  )\n//  .overview - опис фільма\n\n","import { popularFilm } from '../scripts/fetch.js'\nimport { refs } from './refs.js';\n\n// import movieCardTemplate from '.././templates/cards.hbs';\n\npopularFilm().then((filmSet) => {\n    console.log(filmSet)\n    const filmArray = filmSet.results;\n    renderMovieCardOnMainPage(filmArray);\n});\n\nexport function renderMovieCardOnMainPage(filmArray) {\n\n  const markup = filmArray.reduce((html, film) => {\n  const { original_title, poster_path, genre_ids, id, release_date } = film;\n        return html +=\n        `<li class=\"gallery__item\">\n          <a class=\"gallery__link\">\n            <img class='gallery__poster' src='https://image.tmdb.org/t/p/w500/${poster_path}' loading=\"lazy\" alt='Poster for film ${original_title}' data-id=${id} />\n          <div class=\"gallery__movie-details\">\n            <p class=\"movie-details__movie-name\">${original_title}</p>\n            <p class=\"movie-details__movie-info\">${genre_ids} | ${release_date}</p>\n          </div>\n          </a>\n        </li>`\n    }, \"\");\n\n    return refs.movieGallery.insertAdjacentHTML('beforeend', markup);\n}\n\n//src=\"https://upload.wikimedia.org/wikipedia/commons/c/c2/No_image_poster.png\""],"names":["$150d29d2a48dd937$export$21666b427502ea6d","heroSection","document","querySelector","heroContainer","headerNav","headerNavLinks","querySelectorAll","searchInput","libraryButtons","movieGallery","$6fc4f944afc7a9f8$var$setActiveLink","currentElement","classList","add","$6fc4f944afc7a9f8$var$deleteActiveLink","forEach","link","contains","remove","$6fce49880e7c8879$exports","e1","n","t","o","r","c","u","s","undefined","i","a","Error","code","l","exports","call","e","c1","length","e2","n1","t1","Object","defineProperty","value","create","visible","arguments","createElement","innerHTML","trim","children","firstChild","tagName","i1","ownerDocument","body","e3","n2","t2","e4","concat","className","appendChild","HTMLElement","Array","from","content","cloneNode","assign","closable","onShow","onClose","c2","e5","u1","setTimeout","parentElement","removeChild","addEventListener","target","element","show","e6","requestAnimationFrame","close","preventDefault","console","log","dataset","id","idCard","fetch","then","respons","json","movie","nodeName","markup","backdrop_path","title","modal","closeModalHandler","window","removeEventListener","data","catch","error","page","filmSet","filmArray","reduce","html","film","original_title","poster_path","genre_ids","release_date","insertAdjacentHTML","$921060926dd121a5$export$c733e95315622ae6","results","currentElementClick","hasAttribute","$6fc4f944afc7a9f8$var$onOpenLibraryPage","$6fc4f944afc7a9f8$var$onOpenHomePage"],"version":3,"file":"index.f083f1c4.js.map"}