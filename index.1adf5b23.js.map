{"mappings":"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","sources":["src/scripts/fetch.js","src/scripts/refs.js","src/scripts/onOpenLibrary.js","node_modules/basiclightbox/dist/basicLightbox.min.js","src/scripts/modal/modal.js","src/scripts/renderFilmCard.js"],"sourcesContent":["const key = \"1e3bd345eb5d29ac0f4521d096bb0e9d\";\n\n// приклад імпорту: import { findWordKey } from './scripts/fetch';\n\n//------- Пошук за ключовим словом----\n\nexport function findWordKey (word,page=1) {\n    \n  return fetch(`https://api.themoviedb.org/3/search/movie?api_key=${key}&language=en-US&page=1&include_adult=false&query=${word}&page=${page}`).then(respons=>respons.json())\n\n}\n\n//------- Пошук по ід карти----\nexport function findCardId (idCard){\n   return fetch(`https://api.themoviedb.org/3/movie/${idCard}?api_key=${key}&language=en-US`).then(respons=>respons.json())\n}\n\n//------ Популярні фільми---\n\nexport function popularFilm (page=1){\n   return fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=${key}&page=${page}`).then(respons=>respons.json())\n}\n\n\n// ------- Запити  для рендеренга розмітки \n\n//  .title - назва фільма\n//  .original_title - оригінальна назва фільма \n//  .popularity - популярність\n//  .release_date - дата вихода\n//  .poster_path  -  картинка на заставку (щоб дістать картинку фільма треба спочатку вести сайт \"https://image.tmdb.org/t/p/original/cсилка на картинку\")\n//  .backdrop_path - фонова картинка\n//  .genre_ids - жанри ( тільки по ід запросу жанри можна витянуть прописом, через інші вони ідуть в цифровому значенні, обєкт значень в файлі genre.js  )\n//  .overview - опис фільма\n\n","export const refs = {\n    heroSection:document.querySelector('.js-hero__section'),\n    heroContainer: document.querySelector('.js-hero__container'),\n    headerNav: document.querySelector('.js-header-nav'),\n    headerNavLinks: document.querySelectorAll('.js-header-nav__link'),\n    searchInput: document.querySelector('.js-search__wrapp'),\n    libraryButtons: document.querySelector('.js-library__button-wrapp'),\n    movieGallery: document.querySelector('.js-gallery')\n}","import { refs } from './refs.js'\n\nrefs.headerNav.addEventListener('click', onChangePage);\n\nfunction onChangePage(e) {\n    e.preventDefault();\n    const currentElementClick = e.target;\n    if (currentElementClick.nodeName !== \"A\") {\n        return;\n    }\n\n    if (currentElementClick.hasAttribute('data-libraryPage')) {\n        onOpenLibraryPage(currentElementClick)\n    }\n    if (currentElementClick.hasAttribute('data-homePage')) {\n         onOpenHomePage(currentElementClick);\n    }\n}\n\nfunction onOpenHomePage(currentElementClick) {\n    if (!currentElementClick.classList.contains('header-nav__link--active')) {\n        console.log('home');\n        deleteActiveLink()\n        setActiveLink(currentElementClick)\n        refs.heroSection.classList.remove('js-library');\n        refs.libraryButtons.classList.add('visually-hidden');\n        refs.searchInput.classList.remove('visually-hidden');\n    }\n}\n\nfunction onOpenLibraryPage(currentElementClick) {\n    if (!currentElementClick.classList.contains('header-nav__link--active')) {\n        console.log('lib');\n        onHideSearchInput();\n        refs.heroSection.classList.add('js-library');\n        refs.libraryButtons.classList.remove('visually-hidden');\n        deleteActiveLink()\n        setActiveLink(currentElementClick);\n    }\n}\n\nfunction setActiveLink(currentElement) {\n    currentElement.classList.add('header-nav__link--active');\n}\n\nfunction deleteActiveLink() {\n    return refs.headerNavLinks.forEach(link => {\n        if (link.classList.contains('header-nav__link--active')) {\n            link.classList.remove('header-nav__link--active');\n        }\n    })\n}\n\nfunction onHideSearchInput() {\n    refs.searchInput.classList.add('visually-hidden');\n}\n\n","!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{(\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this).basicLightbox=e()}}((function(){return function e(n,t,o){function r(c,u){if(!t[c]){if(!n[c]){var s=\"function\"==typeof require&&require;if(!u&&s)return s(c,!0);if(i)return i(c,!0);var a=new Error(\"Cannot find module '\"+c+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var l=t[c]={exports:{}};n[c][0].call(l.exports,(function(e){return r(n[c][1][e]||e)}),l,l.exports,e,n,t,o)}return t[c].exports}for(var i=\"function\"==typeof require&&require,c=0;c<o.length;c++)r(o[c]);return r}({1:[function(e,n,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.create=t.visible=void 0;var o=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=document.createElement(\"div\");return t.innerHTML=e.trim(),!0===n?t.children:t.firstChild},r=function(e,n){var t=e.children;return 1===t.length&&t[0].tagName===n},i=function(e){return null!=(e=e||document.querySelector(\".basicLightbox\"))&&!0===e.ownerDocument.body.contains(e)};t.visible=i;t.create=function(e,n){var t=function(e,n){var t=o('\\n\\t\\t<div class=\"basicLightbox '.concat(n.className,'\">\\n\\t\\t\\t<div class=\"basicLightbox__placeholder\" role=\"dialog\"></div>\\n\\t\\t</div>\\n\\t')),i=t.querySelector(\".basicLightbox__placeholder\");e.forEach((function(e){return i.appendChild(e)}));var c=r(i,\"IMG\"),u=r(i,\"VIDEO\"),s=r(i,\"IFRAME\");return!0===c&&t.classList.add(\"basicLightbox--img\"),!0===u&&t.classList.add(\"basicLightbox--video\"),!0===s&&t.classList.add(\"basicLightbox--iframe\"),t}(e=function(e){var n=\"string\"==typeof e,t=e instanceof HTMLElement==1;if(!1===n&&!1===t)throw new Error(\"Content must be a DOM element/node or string\");return!0===n?Array.from(o(e,!0)):\"TEMPLATE\"===e.tagName?[e.content.cloneNode(!0)]:Array.from(e.children)}(e),n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null==(e=Object.assign({},e)).closable&&(e.closable=!0),null==e.className&&(e.className=\"\"),null==e.onShow&&(e.onShow=function(){}),null==e.onClose&&(e.onClose=function(){}),\"boolean\"!=typeof e.closable)throw new Error(\"Property `closable` must be a boolean\");if(\"string\"!=typeof e.className)throw new Error(\"Property `className` must be a string\");if(\"function\"!=typeof e.onShow)throw new Error(\"Property `onShow` must be a function\");if(\"function\"!=typeof e.onClose)throw new Error(\"Property `onClose` must be a function\");return e}(n)),c=function(e){return!1!==n.onClose(u)&&function(e,n){return e.classList.remove(\"basicLightbox--visible\"),setTimeout((function(){return!1===i(e)||e.parentElement.removeChild(e),n()}),410),!0}(t,(function(){if(\"function\"==typeof e)return e(u)}))};!0===n.closable&&t.addEventListener(\"click\",(function(e){e.target===t&&c()}));var u={element:function(){return t},visible:function(){return i(t)},show:function(e){return!1!==n.onShow(u)&&function(e,n){return document.body.appendChild(e),setTimeout((function(){requestAnimationFrame((function(){return e.classList.add(\"basicLightbox--visible\"),n()}))}),10),!0}(t,(function(){if(\"function\"==typeof e)return e(u)}))},close:c};return u}},{}]},{},[1])(1)}));","import { findCardId } from '../fetch.js';\nimport { refs } from '../refs.js';\n\nimport * as basicLightbox from 'basiclightbox';\nimport 'basiclightbox/dist/basicLightbox.min.css';\n\nrefs.movieGallery.addEventListener('click', openModal);\n\nfunction openModal(e) {\n  e.preventDefault();\n    console.log(e.target.dataset.id)\n  findCardId(e.target.dataset.id)\n      .then(movie => {        \n      if (e.target.nodeName !== 'IMG') return;\n      const markup = `<img class=\"gallery__image\" src=\"https://image.tmdb.org/t/p/original/${movie.backdrop_path}\" alt=\"${movie.title}\" loading=\"lazy\" width=\"500\" />  <div class=\"modal-close-btn\">Close</div>`;\n      const modal = basicLightbox.create(markup);\n\n      modal.show();\n\n      const closeBtn = document.querySelector('.modal-close-btn');\n      closeBtn.addEventListener('click', closeModal);\n\n      window.addEventListener('keydown', closeModalHandler);\n\n      function closeModalHandler(e) {\n        if (e.code === 'Escape') {\n          modal.close();\n          window.removeEventListener('keydown', closeModalHandler);\n        }\n        }\n        function closeModal(e) {\n        modal.close();\n        window.removeEventListener('keydown', closeModalHandler);\n      }      \n      \n    })\n    .then(data => {})\n    .catch(error => {\n      console.log('oops!');\n    });\n}","import { popularFilm } from '../scripts/fetch.js'\nimport { refs } from './refs.js';\n\n// import movieCardTemplate from '.././templates/cards.hbs';\n\npopularFilm().then((filmSet) => {\n    console.log(filmSet)\n    const filmArray = filmSet.results;\n    renderMovieCardOnMainPage(filmArray);\n});\n\nexport function renderMovieCardOnMainPage(filmArray) {\n\n  const markup = filmArray.reduce((html, film) => {\n  const { original_title, poster_path, genre_ids, id, release_date } = film;\n        return html +=\n        `<li class=\"gallery__item\">\n          <a class=\"gallery__link\">\n            <img class='gallery__poster' src='https://image.tmdb.org/t/p/w500/${poster_path}' loading=\"lazy\" alt='Poster for film ${original_title}' data-id=${id} />\n          <div class=\"gallery__movie-details\">\n            <p class=\"movie-details__movie-name\">${original_title}</p>\n            <p class=\"movie-details__movie-info\">${genre_ids} | ${release_date}</p>\n          </div>\n          </a>\n        </li>`\n    }, \"\");\n\n    return refs.movieGallery.insertAdjacentHTML('beforeend', markup);\n}\n\n//src=\"https://upload.wikimedia.org/wikipedia/commons/c/c2/No_image_poster.png\""],"names":["$f5773e7415a14ca6$var$key","$5bb941f7b634a7c8$export$21666b427502ea6d","heroSection","document","querySelector","heroContainer","headerNav","headerNavLinks","querySelectorAll","searchInput","libraryButtons","movieGallery","$67510682c94b83c9$var$setActiveLink","currentElement","classList","add","$67510682c94b83c9$var$deleteActiveLink","forEach","link","contains","remove","$9df926e0a287432e$exports","e1","n","t","o","r","c","u","s","undefined","i","a","Error","code","l","exports","call","e","c1","length","e2","n1","Object","defineProperty","value","create","visible","arguments","_$t","createElement","innerHTML","trim","children","firstChild","tagName","i1","ownerDocument","body","e3","n2","_$t1","e4","concat","className","appendChild","_$n","HTMLElement","Array","from","content","cloneNode","_$e","assign","closable","onShow","onClose","c2","e5","u1","setTimeout","parentElement","removeChild","addEventListener","target","element","show","e6","requestAnimationFrame","close","preventDefault","console","log","dataset","id","idCard","fetch","then","respons","json","movie","nodeName","markup","backdrop_path","title","modal","window","removeEventListener","closeModalHandler","data","catch","error","page","filmSet","filmArray","reduce","html","film","original_title","poster_path","genre_ids","release_date","insertAdjacentHTML","$487540b8ab403eb6$export$c733e95315622ae6","results","currentElementClick","hasAttribute","$67510682c94b83c9$var$onOpenLibraryPage","$67510682c94b83c9$var$onOpenHomePage"],"version":3,"file":"index.1adf5b23.js.map"}